# 🛒 سامانه مدیریت سوپرمارکت

یک سامانه کامل مدیریت سوپرمارکت با Laravel و MySQL که شامل مدیریت محصولات، مشتریان، سفارشات، تامین‌کنندگان و گزارش‌گیری تحلیلی می‌باشد.

## ✨ ویژگی‌های کلیدی

### 📊 داشبورد تحلیلی
- نمودار فروش ماهانه (Chart.js)
- توزیع محصولات بر اساس دسته‌بندی
- محصولات پرفروش و مشتریان برتر
- آمار کلی و هشدارهای موجودی

### 🔍 جستجو و فیلتر پیشرفته
- جستجوی زنده در لیست محصولات، مشتریان و سفارشات
- فیلتر بر اساس معیارهای مختلف
- حفظ پارامترهای جستجو در صفحه‌بندی

### 📦 مدیریت محصولات
- ثبت محصولات با اطلاعات کامل (بارکد، برند، قیمت خرید/فروش)
- مدیریت موجودی و سطح هشدار
- تاریخ انقضا برای محصولات فاسدشدنی
- تاریخچه تغییرات موجودی

### 👥 مدیریت مشتریان
- ثبت اطلاعات کامل مشتریان
- رتبه‌بندی مشتریان وفادار
- آمار خرید و سفارشات

### 🛍️ مدیریت سفارشات
- ثبت سفارشات با جزئیات کامل
- پیگیری وضعیت سفارشات
- محاسبه خودکار مبالغ

### ⚠️ سیستم هشدار
- هشدار موجودی کم
- هشدار نزدیک به انقضا
- نمایش بصری با آیکون و رنگ

## 🚀 نصب و راه‌اندازی

### پیش‌نیازها
- PHP 8.1 یا بالاتر
- Composer
- MySQL 5.7 یا بالاتر
- Node.js (اختیاری برای asset compilation)

### مراحل نصب

1. **کلون کردن پروژه**
```bash
git clone <repository-url>
cd supermarket-management
```

2. **نصب وابستگی‌ها**
```bash
composer install
```

3. **کپی فایل تنظیمات**
```bash
cp .env.example .env
```

4. **تنظیم دیتابیس**
فایل `.env` را ویرایش کنید:
```env
DB_CONNECTION=mysql
DB_HOST=127.0.0.1
DB_PORT=3306
DB_DATABASE=supermarket_db
DB_USERNAME=your_username
DB_PASSWORD=your_password
```

5. **تولید کلید اپلیکیشن**
```bash
php artisan key:generate
```

6. **اجرای مایگریشن‌ها**
```bash
php artisan migrate
```

7. **پر کردن دیتابیس با داده‌های نمونه (اختیاری)**
```bash
php artisan db:seed
```

8. **اجرای سرور**
```bash
php artisan serve
```

سامانه در آدرس `http://localhost:8000` در دسترس خواهد بود.

## 📁 ساختار پروژه

```
supermarket-management/
├── app/
│   ├── Http/Controllers/     # کنترلرها
│   ├── Models/              # مدل‌های Eloquent
│   └── ...
├── database/
│   ├── migrations/          # مایگریشن‌های دیتابیس
│   └── seeders/            # داده‌های نمونه
├── resources/
│   └── views/              # ویوهای Blade
├── routes/
│   └── web.php             # مسیرهای وب
└── ...
```

## 🗄️ ساختار دیتابیس

### جداول اصلی:
- **categories**: دسته‌بندی محصولات
- **products**: محصولات با فیلدهای پیشرفته
- **suppliers**: تامین‌کنندگان
- **customers**: مشتریان با اطلاعات تکمیلی
- **orders**: سفارشات
- **order_items**: آیتم‌های سفارش
- **sales**: ثبت فروش
- **inventory_logs**: لاگ تغییرات موجودی

## 🎯 نحوه استفاده

### 1. داشبورد
- مشاهده آمار کلی
- بررسی نمودارهای تحلیلی
- مشاهده هشدارهای موجودی

### 2. مدیریت محصولات
- افزودن محصول جدید با اطلاعات کامل
- جستجو و فیلتر محصولات
- مشاهده تاریخچه تغییرات موجودی

### 3. مدیریت مشتریان
- ثبت مشتریان جدید
- جستجو بر اساس معیارهای مختلف
- مشاهده رتبه‌بندی وفاداری

### 4. مدیریت سفارشات
- ثبت سفارشات جدید
- پیگیری وضعیت سفارشات
- مشاهده آمار فروش

## 🔧 تنظیمات پیشرفته

### تغییر سطح هشدار موجودی
در مدل `Product` می‌توانید سطح هشدار پیش‌فرض را تغییر دهید:
```php
protected $attributes = [
    'min_stock_level' => 10,
];
```

### تنظیم نمودارها
نمودارها در فایل `resources/views/dashboard.blade.php` قابل تنظیم هستند.

### شخصی‌سازی رنگ‌ها
رنگ‌بندی در فایل `resources/views/layouts/app.blade.php` قابل تغییر است.

## 📊 گزارش‌گیری

### گزارش‌های موجود:
- فروش ماهانه
- محصولات پرفروش
- مشتریان برتر
- موجودی کم
- محصولات نزدیک به انقضا

### افزودن گزارش جدید:
1. ایجاد کنترلر جدید
2. اضافه کردن مسیر در `routes/web.php`
3. ایجاد ویو مربوطه

## 🛡️ امنیت

- استفاده از CSRF protection
- Validation کامل فرم‌ها
- SQL injection protection
- XSS protection

## 🔄 به‌روزرسانی

برای به‌روزرسانی پروژه:
```bash
git pull origin main
composer install
php artisan migrate
```

## 🐛 عیب‌یابی

### مشکلات رایج:

1. **خطای اتصال به دیتابیس**
   - بررسی تنظیمات `.env`
   - اطمینان از فعال بودن MySQL

2. **خطای کلید اپلیکیشن**
   ```bash
   php artisan key:generate
   ```

3. **خطای مایگریشن**
   ```bash
   php artisan migrate:reset
   php artisan migrate
   ```

## 📞 پشتیبانی

برای گزارش مشکلات یا پیشنهادات:
- ایجاد Issue در GitHub
- ارسال ایمیل به [your-email@example.com]

## 📄 لایسنس

این پروژه تحت لایسنس MIT منتشر شده است.

## 🤝 مشارکت

برای مشارکت در توسعه:
1. Fork کردن پروژه
2. ایجاد branch جدید
3. اعمال تغییرات
4. ارسال Pull Request

---

**توسعه‌دهنده:** [نام شما]  
**تاریخ آخرین به‌روزرسانی:** {{ date('Y/m/d') }}  
**نسخه:** 1.0.0
